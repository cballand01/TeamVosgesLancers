<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Vidéos Inspirantes — Athlètes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#0f172a; --card:#111827; --text:#e5e7eb; --accent:#22c55e;
    }
    body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Arial}
    .wrap{max-width:960px;margin:0 auto;padding:24px 24px 80px}

    .back{display:inline-flex;align-items:center;gap:6px;color:var(--text);text-decoration:none;font-size:16px;margin-bottom:16px}
    .back svg{width:20px;height:20px;stroke:#fff}

    h1{margin:0 0 4px;font-size:28px}
    .subtitle{opacity:.8;margin-bottom:18px}

    /* Filtres disciplines */
    .filters{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .filter{padding:6px 10px;border-radius:8px;border:1px solid #1f2937;background:#0b1326;color:var(--text);cursor:pointer;font-size:13px}
    .filter.active{background:var(--accent);color:#0b1326;border-color:var(--accent)}

    /* Tabs athlètes */
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}
    .tab{padding:6px 10px;border-radius:999px;border:1px solid #1f2937;background:#0b1326;color:var(--text);cursor:pointer;font-size:13px}
    .tab.active{background:var(--accent);color:#0b1326;border-color:var(--accent)}

    /* Grille vidéos */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .card{position:relative;background:var(--card);border:1px solid #1f2937;border-radius:12px;overflow:hidden;cursor:pointer}
    .thumb{width:100%;aspect-ratio:16/9;object-fit:cover;display:block;background:#000}
    .meta{padding:10px}
    .title{font-weight:700;font-size:14px;margin:0 0 4px}
    .info{font-size:12px;opacity:.8}
    .play{position:absolute;inset:0;display:grid;place-items:center;pointer-events:none}
    .play svg{width:42px;height:42px;opacity:.9;filter:drop-shadow(0 2px 6px rgba(0,0,0,.6))}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.75);display:none;align-items:center;justify-content:center;z-index:1000;padding:16px}
    .lightbox.open{display:flex}
    .viewer{position:relative;width:min(100%,1000px);max-height:90vh;background:#000;border-radius:12px;overflow:hidden}
    .video-wrapper{position:relative;width:100%;padding-bottom:56.25%;background:#000;max-height:90vh}
    .video-wrapper iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
    .viewer-header{position:absolute;top:8px;left:8px;right:8px;display:flex;justify-content:space-between;align-items:center;pointer-events:none}
    .viewer-title{color:#fff;font-size:14px;background:rgba(0,0,0,.5);padding:6px 10px;border-radius:8px;pointer-events:auto}
    .close{pointer-events:auto;background:rgba(255,255,255,.15);border:none;color:#fff;width:36px;height:36px;border-radius:8px;cursor:pointer}
  </style>
</head>
<body>
  <div class="wrap">

    <a href="index.html" class="back">
      <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
      Retour
    </a>

    <h1>Vidéos Inspirantes</h1>
    <div class="subtitle">Choisis une discipline puis un athlète pour voir ses vidéos</div>

    <!-- Filtres Disciplines -->
    <div class="filters" id="disciplineFilters"></div>

    <!-- Onglets Athlètes -->
    <div class="tabs" id="athleteTabs"></div>

    <!-- Grille -->
    <div id="grid" class="grid"></div>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox">
    <div class="viewer">
      <div class="video-wrapper" id="viewer"></div>
      <div class="viewer-header">
        <div class="viewer-title" id="viewerTitle"></div>
        <button class="close" id="close">✕</button>
      </div>
    </div>
  </div>

  <script>
    const VIDEOS = [
      { athlete:'David Storl', discipline:'Poids', youtube:'Jq0tg4TudYg', title:'David Storl - The King of Shot Put !', info:'Vidéo de compilation de David Storl.' },
      { athlete:'David Storl', discipline:'Poids', youtube:'nQcjxG3uOxU', title:'David Storl - He is ready for 2017 !', info:'Vidéo de compilation de David Storl.' },
      { athlete:'Valarie Allman', discipline:'Disque', youtube:'q2ULYz8oDnc', title:'Technique Disque', info:'Ralentis HD' },
      { athlete:'Johannes Vetter', discipline:'Javelot', youtube:'KR5XeapsoR0', title:'Approches', info:'Prépa été' },
      { athlete:'Wojciech Nowicki', discipline:'Marteau', youtube:'rZFR0dpFzEw', title:'Tech Marteau', info:'Compétition' },
      { athlete:'Paweł Fajdek', discipline:'Marteau', youtube:'cTMEz5bEPWk', title:'Entraînement', info:'Slow motion' }
    ];

    const disciplines = ['Poids','Disque','Marteau','Javelot'];
    let currentDiscipline = 'Poids';
    let currentAthlete = null;

    const $filters = document.getElementById('disciplineFilters');
    const $tabs = document.getElementById('athleteTabs');
    const $grid = document.getElementById('grid');

    // Crée les filtres de disciplines
    disciplines.forEach(d=>{
      const btn = document.createElement('button');
      btn.className = 'filter' + (d===currentDiscipline?' active':'');
      btn.textContent = d;
      btn.addEventListener('click', ()=>{
        currentDiscipline = d;
        currentAthlete = null;
        document.querySelectorAll('.filter').forEach(f=>f.classList.remove('active'));
        btn.classList.add('active');
        updateAthletes();
        render();
      });
      $filters.appendChild(btn);
    });

    function updateAthletes(){
      $tabs.innerHTML = '';
      const athletes = [...new Set(VIDEOS.filter(v=>v.discipline===currentDiscipline).map(v=>v.athlete))];
      athletes.forEach(name=>{
        const b = document.createElement('button');
        b.className = 'tab' + (name===currentAthlete?' active':'');
        b.textContent = name;
        b.addEventListener('click', ()=>{
          currentAthlete = name;
          document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
          b.classList.add('active');
          render();
        });
        $tabs.appendChild(b);
      });
    }

    function render(){
      $grid.innerHTML = '';
      VIDEOS
        .filter(v=>v.discipline===currentDiscipline)
        .filter(v=>!currentAthlete || v.athlete===currentAthlete)
        .forEach(v=>{
          const card = document.createElement('div');
          card.className = 'card';
          const thumb = document.createElement('img');
          thumb.className = 'thumb';
          thumb.src = `https://img.youtube.com/vi/${v.youtube}/hqdefault.jpg`;
          card.appendChild(thumb);

          const meta = document.createElement('div');
          meta.className = 'meta';
          meta.innerHTML = `<div class="title">${v.title}</div><div class="info">${v.athlete}</div>`;
          card.appendChild(meta);

          const play = document.createElement('div');
          play.className = 'play';
          play.innerHTML = `<svg viewBox="0 0 24 24" fill="#fff"><path d="M8 5v14l11-7z"/></svg>`;
          card.appendChild(play);

          card.addEventListener('click', ()=>openViewer(v));
          $grid.appendChild(card);
        });
    }

    const $lightbox = document.getElementById('lightbox');
    const $viewer = document.getElementById('viewer');
    const $title = document.getElementById('viewerTitle');
    const $close = document.getElementById('close');

    function openViewer(video){
      $viewer.innerHTML = '';
      const iframe = document.createElement('iframe');
      iframe.src = `https://www.youtube.com/embed/${video.youtube}?autoplay=1&rel=0`;
      iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
      iframe.allowFullscreen = true;
      $viewer.appendChild(iframe);
      $title.textContent = `${video.athlete} • ${video.title}`;
      $lightbox.classList.add('open');
    }
    $close.addEventListener('click', ()=>{$lightbox.classList.remove('open');$viewer.innerHTML='';});
    $lightbox.addEventListener('click', e=>{if(e.target=== $lightbox){$lightbox.classList.remove('open');$viewer.innerHTML='';}});

    // init
    updateAthletes();
    render();
  </script>
</body>
</html>
